# Initialization of an n-alkane fluid confined between solid walls

## For gold:

* The _PDB_ file is the output of [atomsk](https://atomsk.univ-lille.fr/) by running the command:\
`atomsk --create fcc 4.08 Au orient [-12-1] [-101] [111] gold.pdb`

* The coordinates from _gold.pdb_ are then copied into _gold.lt_

## For pentane:

* The _\<alkane>.lt_ file topology data comes from _\<alkane>.mol_ file

## For the whole system:

* Both lt files are imported in _geometry.lt_. The _system.lt_ then imports the geometry and adds the settings needed for the LAMMPS MD simualtion.

### Workflow:

1. **Initialize**: Run the python module _init\_Moltemp\_walls_ (located in `home/tools`) in `equilib/data/moltemp` with the positional arguments. Usage:\
`init_moltemp_walls.py nUnitsX nUnitsY nUnitsZ h mFluid density <alkane>` \
The main variables here are `nUnitsX` and `density`\
This will create _geometry.lt_ file with the system dimensions and topology.

2. Run the `setup.sh` bash script. The initial atomic configuration is now created with all the simulation settings. \
Inside the _setup_ bash script, the command used is \
`moltemplate.sh -atomstyle full -overlay-bonds -overlay-angles -overlay-dihedrals -overlay-impropers system.lt` \
The `-overlay-*` flags are required for cases where multiple bonded interactions involve the same atoms.
This will create:
    * _system.in.init_ &rarr; Generated either by the force field file or the molecule geometry file and it comprises the initialization setup  
    * _system.in.settings_ &rarr; Generated either by the force field file or the molecule geometry file and it comprises the force field parameters  
    * _system.in.run_ &rarr; Generated by _system.lt_ from what was specified in the python file and it contains the simulation conditions (NVT,NVE,etc)  
    * _system.in.output_ &rarr; Generated by _system.lt_ from what was specified in the python file and it contains info on the thermodynamic output and its frequency.
    * _system.data_; LAMMPS data file.

    The _setup_ script will also modify the simulation header file and will copy all the simulation files (including LAMMPS data file _system.data_) into `equilib\data\blocks`. The input files for equilibration are now ready and the `equilib` directory is to be rsynced to the cluster **NEMO**.
